<div class="w-full w-full py-10 px-5 md:px-10">
  <div class="text-center mb-10">
    <h1 class="font-bold text-3xl text-[#2B3467]">Créer Un Compte Résident</h1>
  </div>
  <form [formGroup]="residentForm">
    <!-- <div class="flex -mx-3">
      <div
        x-data="{photoName: null, photoPreview: null}"
        class="w-full px-3 mb-5"
      >
        <input
          type="file"
          class="hidden"
          x-ref="photo"
          [formControlName]="'avatar'"
          x-on:change="
                            photoName = $refs.photo.files[0].name;
                            const reader = new FileReader();
                            reader.onload = (e) => {
                                photoPreview = e.target.result;
                            };
                            reader.readAsDataURL($refs.photo.files[0]);
        "
        />

        <label for="" class="text-lg font-bold text-[#2B3467] px-1"
          >Image du résident</label
        >
        <div class="text-center">
          <div class="mt-2" x-show="! photoPreview">
            <img
              src="../../assets/images/defaultAvatar.png"
              class="w-40 h-40 m-auto rounded-full shadow"
            />
          </div>

          <div class="mt-2" x-show="photoPreview" style="display: none">
            <span
              class="block w-40 h-40 rounded-full m-auto shadow"
              x-bind:style="'background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url(\'' + photoPreview + '\');'"
              style="
                background-size: cover;
                background-repeat: no-repeat;
                background-position: center center;
                background-image: url('null');
              "
            >
            </span>
          </div>
          <button
            type="button"
            class="inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:text-gray-500 focus:outline-none focus:border-blue-400 focus:shadow-outline-blue active:text-gray-800 active:bg-gray-50 transition ease-in-out duration-150 mt-2 ml-3"
            x-on:click.prevent="$refs.photo.click()"
          >
            Charger l'image
          </button>
        </div>
      </div>
    </div> -->

    <!-- Temporary Photo Input -->
    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Photo du résident</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="fa-sharp fa-solid fa-image text-gray-400 text-lg"></i>
          </div>
          <input
            [formControlName]="'avatar'"
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="Entrez l'URL de la photo"
            type="text"
          />
        </div>
        <img *ngIf="residentForm.value.avatar" [src]="residentForm.value.avatar" alt="Resident image"
             class="mx-auto object-cover rounded-lg">
      </div>
    </div>

    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Nom du résident</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="fa-regular fa-input-text text-gray-400 text-lg"></i>
          </div>
          <input
            [formControlName]="'lastName'"
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="John"
            type="text"
          />
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Prénom du résident</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="mdi mdi-account-outline text-gray-400 text-lg"></i>
          </div>
          <input
            [formControlName]="'firstName'"
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="Doe"
            type="text"
          />
        </div>
      </div>
    </div>
    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Sexe du résident</label
        >
        <div class="flex items-center">
          <div class="mr-4 rounded-md bg-indigo-200 p-2">
            <input
              class="form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"
              formControlName="sexe"
              name="sexe"
              type="radio"
              value="feminin"
            />
            <label class="ml-2 text-sm text-gray-600" for="feminin"
            >Féminin</label
            >
          </div>
          <div class="mr-4 rounded-md bg-indigo-200 p-2">
            <input
              class="form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"
              formControlName="sexe"
              name="sexe"
              type="radio"
              value="masculin"
            />
            <label class="ml-2 text-sm text-gray-600" for="masculin"
            >Masculin</label
            >
          </div>
        </div>
      </div>
    </div>

    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for="symptome"
        >Symptôme(s) du résident</label
        >
        <div class="flex items-center">
          <div
            *ngFor="let symptome of symptomes"
            class="mr-4 rounded-md bg-indigo-200 p-2"
          >
            <input
              (change)="changeState(symptome.id)"
              [checked]="symptome.checked"
              [value]="symptome.value"
              class="form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"
              name="symptome"
              type="checkbox"
            />
            <label class="ml-2 text-sm text-gray-600" for="symptome">{{
              symptome.name
              }}</label>
          </div>
        </div>
      </div>
    </div>

    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Template de settings</label
        >
        <select class="form-control" formControlName="template">
          <option value="default">Par défaut</option>
          <option value="template2">Clics imprécis</option>
          <option value="template3">Utilisation clavier</option>
          <option value="template4">Navigation vocale</option>
        </select>
      </div>
    </div>


    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Date de naissance du résident</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="fa-regular fa-calendar-days text-gray-400 text-lg"></i>
          </div>
          <input
            [formControlName]="'dateOfBirth'"
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="01/01/1990"
            type="date"
          />
        </div>
      </div>
    </div>
    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Pseudonyme</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="fa-solid fa-user text-gray-400 text-lg"></i>
          </div>
          <input
            [formControlName]="'userName'"
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="JohnDoe123"
            type="text"
          />
        </div>
      </div>
    </div>
    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Mot de passe</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="fa-solid fa-lock text-gray-400 text-lg"></i>
          </div>
          <input
            [formControlName]="'password'"
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="************"
            type="password"
          />
        </div>
      </div>
    </div>

    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <label class="text-lg font-bold text-[#2B3467] px-1" for=""
        >Confirmer le mot de passe</label
        >
        <div class="flex">
          <div
            class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"
          >
            <i class="fa-solid fa-lock text-gray-400 text-lg"></i>
          </div>
          <input
            class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg border-2 border-gray-200 outline-none focus:border-indigo-500"
            placeholder="************"
            type="password"
          />
        </div>
      </div>
    </div>
    <!-- TODO: Error if confirmPassword is not the same as Password or not have enough characters -->

    <div class="flex -mx-3">
      <div class="w-full px-3 mb-5">
        <button
          (click)="addResident()"
          class="block w-full max-w-xs mx-auto text-xl bg-indigo-800 focus:bg-indigo-600 text-white rounded-lg px-3 py-2 font-semibold hover:bg-indigo-900 focus:outline-none focus:shadow-outline"
        >
          Enregistrer
        </button>
      </div>
    </div>
  </form>
</div>
