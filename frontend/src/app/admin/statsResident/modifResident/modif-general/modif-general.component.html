<form [formGroup]="generalForm" (ngSubmit)="updateProfile()" class="container mx-auto justify-between items-center">
  <div class="mb-4">
    <label for="avatar" class="block text-[#2B3467] text-xl font-bold mb-2">Photo du résident</label>
    <input data-testid="modifyPP" type="text" id="avatar" class="form-input p-4 mt-1 block w-full border-[#2B3467] border-2 rounded-md shadow-sm focus:ring-[#2B3467] focus:border-[#2B3467]" formControlName="avatar" required placeholder="Entrez l'URL de la photo">
    <img [src]="generalForm.value.avatar" *ngIf="generalForm.value.avatar" class="mx-auto object-cover w-1/3 rounded-lg" alt="Resident image">
  </div>

  <div class="mb-4">
    <label for="firstName" class="block text-[#2B3467] text-xl font-bold mb-2">Prénom</label>
    <input data-testid="modifyFirstName" type="text" id="firstName" class="form-input p-4 mt-1 block w-full border-[#2B3467] border-2 rounded-md shadow-sm focus:ring-[#2B3467] focus:border-[#2B3467]" formControlName="firstName" required placeholder="Entrez votre prénom">
    <div *ngIf="generalForm.get('firstName').invalid && (generalForm.get('firstName').touched || submitted)" class="text-red-500 text-xl mt-1">
      Le prénom est requis
    </div>
  </div>

  <div class="mb-4">
    <label for="lastName" class="block text-[#2B3467] text-xl font-bold mb-2">Nom de famille</label>
    <input data-testid="modifyLastName" type="text" id="lastName" class="form-input p-4 mt-1 block w-full border-[#2B3467] border-2 rounded-md shadow-sm focus:ring-[#2B3467] focus:border-[#2B3467]" formControlName="lastName" required placeholder="Entrez votre nom de famille">
    <div *ngIf="generalForm.get('lastName').invalid && (generalForm.get('lastName').touched || submitted)" class="text-red-500 text-xl mt-1">
      Le nom de famille est requis
    </div>
  </div>

  <div class="mb-4">
    <label for="userName" class="block text-[#2B3467] text-xl font-bold mb-2">Nom d'utilisateur</label>
    <input data-testid="modifyUsername" type="text" id="userName" class="form-input p-4 mt-1 block w-full border-[#2B3467] border-2 rounded-md shadow-sm focus:ring-[#2B3467] focus:border-[#2B3467]" formControlName="userName" required placeholder="Entrez votre nom d'utilisateur">
    <div *ngIf="generalForm.get('userName').invalid && (generalForm.get('userName').touched || submitted)" class="text-red-500 text-xl mt-1">
      Le nom d'utilisateur est requis
    </div>
  </div>

  <div class="mb-4">
    <label for="sexe" class="block text-[#2B3467] text-xl font-bold mb-2">Sexe du résident</label>
    <select data-testid="modifySex" id="sexe" class="form-select p-4 mt-1 block w-full border-[#2B3467] border-2 rounded-md shadow-sm focus:ring-[#2B3467] focus:border-[#2B3467]" formControlName="sexe" required>
      <option value="Masculin" [selected]="generalForm.value.sexe === 'Masculin'">Masculin</option>
      <option value="Féminin" [selected]="generalForm.value.sexe === 'Féminin'">Féminin</option>
    </select>
    <div *ngIf="generalForm.get('sexe').invalid && (generalForm.get('sexe').touched || submitted)" class="text-red-500 text-xl mt-1">
      Le sexe est requis
    </div>
  </div>

  <div class="mb-4">
    <label for="dateOfBirth" class="block text-[#2B3467] text-xl font-bold mb-2">Date de naissance</label>
    <input data-testid="modifyDOB" type="date" id="dateOfBirth" class="form-input p-4 mt-1 block w-full border-[#2B3467] border-2 rounded-md shadow-sm focus:ring-[#2B3467] focus:border-[#2B3467]" formControlName="dateOfBirth" required placeholder="Entrez votre date de naissance">
    <div *ngIf="generalForm.get('dateOfBirth').invalid && (generalForm.get('dateOfBirth').touched || submitted)" class="text-red-500 text-xl mt-1">
      La date de naissance est requise
    </div>
  </div>

  <div class="flex justify-center">
    <button type="submit" [disabled]="generalForm.invalid" class="block w-full max-w-xs mx-auto text-2xl bg-indigo-800 focus:bg-indigo-600 text-white rounded-lg px-5 py-5 font-semibold hover:bg-indigo-900 focus:outline-none focus:shadow-outline disabled:opacity-50">Mettre à jour le profil</button>
  </div>
</form>
